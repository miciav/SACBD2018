\section{Introduction}

EW-Shopp aims to support e-commerce, retail and marketing industries in improving their efficiency and competitiveness through providing the ability to perform predictive and prescriptive analytics over integrated and enriched large datasets through the use of open and flexible solutions. 
This document is intended to be the first step towards the construction of the EW-Shopp ecosystem, a platform that seeks to significantly reduce integration time and to improve the quality of analytics by providing cutting-edge tools and access to data as a service, with particular reference to weather and event information.  

We propose a reference architecture specially designed to handle Big Data workloads. 
In order for this to be possible, we have carried out a thorough requirement gathering phase that takes into account the best practices in creating Big Data architectures and the expectations of the partners involved in business cases. As a result, we were able not only to define the platform architecture, but also to set up a unified common language that, we believe, will have clear benefits in the next stages of the project.
In addition, we propose an initial reference implementation by selecting one or more solutions for each reference component. In particular, embracing the lean development approach, we detail only the core of the platform, namely the tools on which a strong convergence exists among the consortium members (the minimum viable product or MVP). The rest of the platform is constituted by suggestion of tools and/or technologies that at this moment seem to be good candidates but that may be replaced as the project develops. 

For some years now we have been witnessing the flourishing and reinforcement of Big Data methodologies in academia and especially in industry. This success can in part be explained by the promise of Big Data supporters to define and deliver more accurate and efficient data-driven decision-making processes.
This is not the only asset, but it is what we are most interested in highlighting within the EW-Shopp project. 
The term "Data Analytics" is too often used to define a generic data driven decision process and therefore covers heterogeneous activities such as cleaning, linking, enrichment, application of analytic models up to business intelligence and visualization. In this document, we propose to design the EW-Shopp platform from its components and their relationships. We present a reference architecture obtained from a rigorous process of requirements elicitation that took into account both literature and best practices as well as the needs expressed by involved stakeholders. 
A considerable amount of work has already been done within the consortium (presented in document D4.1 [1]) to outline the strategy for the implementation of business case pilots. In that particular document, not only the functional requirements associated with business cases (the implementation and reporting of which in marketed services is one of the core aspects of the project) have been collected and refined, but also the development guidelines based on lean methodology [2] have been defined. In particular, the build-measure-learn feedback loop is also presented. In a nutshell, the methodology envisions for each pilot a starting phase with Minimum Viable Product (MVP) meant to reduce the time-to-market. The MVP is going to be enriched as the project progresses and the vision matures. Pilots are therefore seen as playgrounds for experimenting approaches and technologies that eventually will be included in the final marketed services. 
Three stages of the development are foreseen:
\begin{itemize}
    \item First stage is building the integrated data platform from heterogeneous sources as the key inputs. 
    \item In the second stage the technical partners will need to present is analytical expertise to model these data to extract relevant analytical patterns, predictive strength and business sense.
    \item The last stage will be the development of marketed services focused on target segments on top of the integrated platform.
\end{itemize}

At the time this document is written, we are at the beginning of the first phase and it is the right time to design a unified, complete and well-founded reference architecture. The declared objective is to provide a point of reference that will remain as steady as possible for the entire duration of the project and that can thus lead its evolution on the basis of a solid and agreed basis. To do this, as we will see, we started from the functional requirements collected in D4.1 trying to read in them the answers to the architectural questions that we asked ourselves.  It was immediately evident, however, that these requirements were not sufficient to define a modern, efficient, responsive and scalable platform. As a consortium, we have therefore decided to undertake an in-depth study of the problems that we want to tackle. The results of such teamwork are detailed in this document.  

With the work the consortium has done on component design, the processes and outcomes of which are described in this document, we aim to achieve the following two objectives:
1.	Define a reference architecture. This deliverable provides a reference architecture that aims at being general and flexible enough to be successful applied in the pilots. The architecture describes the core components and their relationships in terms of data flow. Moreover, it aims at setting a common language among the partners. To make this possible, we have referred to the pilot descriptions, the partnersâ€™ experience, and the best practices of the field of Big Data. Furthermore, the effort required to define precisely the pilots, especially in terms of processes, data flow and workflow, has spawned awareness in the consortium members about the complexity of the problem and the need of a common reference. Finally, it is important to note that defining a reference architecture does not conflict with the lean methodology as we describe the components according to their general functionality, without imposing specific solutions.
2.	Propose an initial implementation of the platform. This deliverable also provides an early stage implementation of the reference architecture, whose components can be divided into two groups; the first one contains tools upon which there is a general agreement among the partners, the second one features components that are either left unspecified or are concrete tool to be considered as an initial choice (subject to be further refinement). Such an approach is necessary for two reasons. First of all, following the lean methodology the pilots need freedom to experiment in order to make the platform evolve. Secondly, part of the ecosystem must be adaptable to the needs of individual pilots, which might require the use of specific technologies.  


This work is structured as follows. In Chapter 2 we present the reference architectures for Big Data as well as the main solutions for data wrangling, data analytics, business intelligence and reporting. The requirements that have guided the definition of our reference architecture are presented and discussed in Chapter 3. The EW-Shopp reference platform is detailed in Chapter 4, where both the reference data flow and control flow are also presented. Once the reference architecture has been defined, we have decided to present a possible implementation (in embryonic form) of the EW-Shopp platform in Chapter 5. Finally, Chapter 6 concludes the document. 








